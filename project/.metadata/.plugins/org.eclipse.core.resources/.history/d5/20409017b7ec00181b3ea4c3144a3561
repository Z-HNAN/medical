package cn.edu.hdu.zhn.medical.base.service.impl;

import static org.assertj.core.api.Assertions.contentOf;

import java.io.File;
import java.math.BigDecimal;
import java.util.HashMap;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.PropertySource;
import org.springframework.stereotype.Service;

import cn.edu.hdu.zhn.medical.base.service.IBankService;
import cn.edu.hdu.zhn.medical.base.util.HttpUtil;

@Service
@PropertySource({"classpath:bussiness.properties"})
public class BankServiceImpl implements IBankService{
	
	@Value("${bank.trans.api}")
	private String bankTransAPI;
	
	@Value("${bank.privateKey}")
	private String privateKey;

	@Override
	public boolean transfer(String bankNumber, BigDecimal amount) {
		HashMap<String, String> params = new HashMap<>();
		params.put("bankNumber", bankNumber);
		params.put("amount", amount);
		params.put("privateKey", this.privateKey);
		HttpUtil.sendHttpRequest(this.bankTransAPI, params);
		return false;
	}

	
}
